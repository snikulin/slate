
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>Verbatoria API</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .cd {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .nl {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all.js"></script>
  </head>

  <body class="index" data-languages="[&quot;shell&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" alt="Navbar" />
      </span>
    </a>
    <div class="toc-wrapper">
      <img src="images/logo.png" class="logo" alt="Logo" />
        <div class="lang-selector">
              <a href="#" data-language-name="shell">shell</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <div id="toc" class="toc-list-h1">
          <li>
            <a href="#introduction" class="toc-h1 toc-link" data-title="Introduction">Introduction</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#" class="toc-h2 toc-link" data-title="Introduction">Выполнение запросов, требующих авторизации</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#-2" class="toc-h1 toc-link" data-title="Авторизация Нейрометриста">Авторизация Нейрометриста</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#http-request" class="toc-h2 toc-link" data-title="Авторизация Нейрометриста">HTTP Request</a>
                  </li>
                  <li>
                    <a href="#-3" class="toc-h2 toc-link" data-title="Авторизация Нейрометриста">Параметры</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#-4" class="toc-h1 toc-link" data-title="Восстановление пароля">Восстановление пароля</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#http-request-2" class="toc-h2 toc-link" data-title="Восстановление пароля">HTTP Request</a>
                  </li>
                  <li>
                    <a href="#-5" class="toc-h2 toc-link" data-title="Восстановление пароля">Параметры</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#-6" class="toc-h1 toc-link" data-title="Изменение пароля">Изменение пароля</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#http-request-3" class="toc-h2 toc-link" data-title="Изменение пароля">HTTP Request</a>
                  </li>
                  <li>
                    <a href="#-7" class="toc-h2 toc-link" data-title="Изменение пароля">Параметры</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#-8" class="toc-h1 toc-link" data-title="Получение информации об авторизованном Нейрометристе">Получение информации об авторизованном Нейрометристе</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#http-request-4" class="toc-h2 toc-link" data-title="Получение информации об авторизованном Нейрометристе">HTTP Request</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#-9" class="toc-h1 toc-link" data-title="Получение списка запланированных сеансов для текущего нейрометриста">Получение списка запланированных сеансов для текущего нейрометриста</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#http-request-5" class="toc-h2 toc-link" data-title="Получение списка запланированных сеансов для текущего нейрометриста">HTTP Request</a>
                  </li>
                  <li>
                    <a href="#-10" class="toc-h2 toc-link" data-title="Получение списка запланированных сеансов для текущего нейрометриста">Параметры</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#-11" class="toc-h1 toc-link" data-title="Старт сессии нейрометрии">Старт сессии нейрометрии</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#http-request-6" class="toc-h2 toc-link" data-title="Старт сессии нейрометрии">HTTP Request</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#-12" class="toc-h1 toc-link" data-title="Добавление результатов измерения в открытую сессию нейрометрии">Добавление результатов измерения в открытую сессию нейрометрии</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#http-request-7" class="toc-h2 toc-link" data-title="Добавление результатов измерения в открытую сессию нейрометрии">HTTP Request</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#-13" class="toc-h1 toc-link" data-title="Закрытие сессии нейрометрии">Закрытие сессии нейрометрии</a>
          </li>
          <li>
            <a href="#-14" class="toc-h1 toc-link" data-title="Работа с клиентами">Работа с клиентами</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#-15" class="toc-h2 toc-link" data-title="Работа с клиентами">Добавление</a>
                  </li>
                  <li>
                    <a href="#-17" class="toc-h2 toc-link" data-title="Работа с клиентами">Изменение</a>
                  </li>
                  <li>
                    <a href="#-19" class="toc-h2 toc-link" data-title="Работа с клиентами">Просмотр</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#-20" class="toc-h1 toc-link" data-title="Работа с данными о детях">Работа с данными о детях</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#-21" class="toc-h2 toc-link" data-title="Работа с данными о детях">Добавление</a>
                  </li>
                  <li>
                    <a href="#-23" class="toc-h2 toc-link" data-title="Работа с данными о детях">Изменение</a>
                  </li>
                  <li>
                    <a href="#-25" class="toc-h2 toc-link" data-title="Работа с данными о детях">Просмотр</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#errors" class="toc-h1 toc-link" data-title="Errors">Errors</a>
          </li>
      </div>
        <ul class="toc-footer">
            <li><a href='https://github.com/tripit/slate'>Documentation Powered by Slate</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='introduction'>Introduction</h1>
<p>Взаимодействие с Backend осуществляется по HTTPS протоколу, используя REST API,
формат данных - JSON.</p>
<h2 id=''>Выполнение запросов, требующих авторизации</h2>
<p>При выполнении запросов API, которые требуют авторизации, необходимо передавать
в HTTP заголовке с именем <em>access_token</em> токен возвращенный сервером после
авторизации.</p>
<h1 id='-2'>Авторизация Нейрометриста</h1>
<blockquote>
<p>Пример кода</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl <span class="s2">"http://verbatoria.ru/api/v1/session.json"</span> --request POST --data-binary
<span class="s1">'{"phone":"+79031234567", "password":"Str0nGpa$s"}'</span>
</code></pre>
<blockquote>
<p>Ответ</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"access_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"7827nd88ju98dj29084d28j9048"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"expires_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-10-17T23:10:01.770+04:00"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>TODO: добавить возврат состояния сессии - активен ли партнер и достаточно
средств на балансе</p>
</blockquote>
<h3 id='http-request'>HTTP Request</h3>
<p><code>POST http://verbatoria.ru/api/v1/session.json</code></p>
<h3 id='-3'>Параметры</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>phone</td>
<td>true</td>
<td>Телефон пользователя</td>
</tr>
<tr>
<td>password</td>
<td>true</td>
<td>Пароль пользователя</td>
</tr>
</tbody></table>

<aside>
При успешной авторизации код ответа 201, при неуспешной 422
</aside>
<h1 id='-4'>Восстановление пароля</h1>
<blockquote>
<p>Пример кода</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl <span class="s2">"http://verbatoria.ru/api/v1/verbatolog/restore_password.json"</span> --request POST --data-binary
<span class="s1">'{"phone":"+79031234567"}'</span>
</code></pre>
<blockquote>
<p>Ответ</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"recovery_hash was sent by sms"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h3 id='http-request-2'>HTTP Request</h3>
<p><code>POST http://verbatoria.ru/api/v1/verbatolog/restore_password.json</code></p>
<h3 id='-5'>Параметры</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>phone</td>
<td>true</td>
<td>Телефон пользователя</td>
</tr>
</tbody></table>

<aside>
При успешной обработке запроса код ответа 200, если нейрометрист не найден по
указанному номеру телефона 404
</aside>
<h1 id='-6'>Изменение пароля</h1>
<blockquote>
<p>Пример кода</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl <span class="s2">"http://verbatoria.ru/api/v1/verbatolog/reset_password.json"</span> --request POST --data-binary
<span class="s1">'{"phone":"+79031234567", "recovery_hash":"b306615629698929532de020007df9ec5e3632ee", "password":"NePassW0rD%" }'</span>
</code></pre>
<blockquote>
<p>Ответ</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"password was updated"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h3 id='http-request-3'>HTTP Request</h3>
<p><code>POST http://verbatoria.ru/api/v1/verbatolog/reset_password.json</code></p>
<h3 id='-7'>Параметры</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>phone</td>
<td>true</td>
<td>Телефон пользователя</td>
</tr>
<tr>
<td>recovery_hash</td>
<td>true</td>
<td>Код восстановления, полученный по смс</td>
</tr>
<tr>
<td>password</td>
<td>true</td>
<td>Новый пароль</td>
</tr>
</tbody></table>

<aside>
При успешной обработке запроса код ответа 200, если нейрометрист не найден по
указанному номеру телефона или код восстановления некорректен - 404, если не
указан пароль - 400
</aside>
<h1 id='-8'>Получение информации об авторизованном Нейрометристе</h1>
<aside>
Данный метод требует валидной сессии. Необходимо передать  *access_token* в
заголовке HTTP запроса.
</aside>

<blockquote>
<p>Пример кода</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl <span class="s2">"http://verbatoria.ru/api/v1/verbatolog/current.json"</span> 
--header <span class="s2">"access_token: 7827nd88ju98dj29084d28j9048"</span>
</code></pre>
<blockquote>
<p>Ответ</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Иван"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Иванов"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"middle_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Иванович"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+79031234567"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ivan@ivanov.ru"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h3 id='http-request-4'>HTTP Request</h3>
<p><code>GET http://verbatoria.ru/api/v1/verbatolog/current.json</code></p>
<h1 id='-9'>Получение списка запланированных сеансов для текущего нейрометриста</h1>
<aside>
Данный метод требует валидной сессии. Необходимо передать  *access_token* в
заголовке HTTP запроса.
</aside>

<blockquote>
<p>Пример кода</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl <span class="s2">"http://verbatoria.ru/api/v1/verbatolog/current/events.json"</span>
--header <span class="s2">"access_token: 7827nd88ju98dj29084d28j9048"</span>
</code></pre>
<blockquote>
<p>Ответ</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"total_entries"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"per_page"</span><span class="p">:</span><span class="w"> </span><span class="mi">25</span><span class="p">,</span><span class="w">
  </span><span class="s2">"current_page"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"next_page"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="s2">"previous_page"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="s2">"start_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-05-01T12:00:00.000+04:00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"end_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-05-01T13:00:00.000+04:00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"child"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Василий Пупкин"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"birth_day"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2007-01-01"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h3 id='http-request-5'>HTTP Request</h3>
<p><code>GET http://verbatoria.ru/api/v1/verbatolog/current/events.json</code></p>
<h3 id='-10'>Параметры</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>per_page</td>
<td>false</td>
<td>Число записей на страницу, по умолчанию 25</td>
</tr>
<tr>
<td>page</td>
<td>false</td>
<td>Текущая страница, по умолчанию 1, индексация начинается с единицы</td>
</tr>
<tr>
<td>from_time</td>
<td>false</td>
<td>При фильтрации за период, задает время с которого искать события (по полю start_at)</td>
</tr>
<tr>
<td>to_time</td>
<td>false</td>
<td>При фильтрации за период, задает время до которого искать события (по полю start_at)</td>
</tr>
</tbody></table>
<h1 id='-11'>Старт сессии нейрометрии</h1>
<aside>
Данный метод требует валидной сессии. Необходимо передать  *access_token* в
заголовке HTTP запроса.
</aside>

<blockquote>
<p>Пример кода</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl <span class="s2">"http://verbatoria.ru/api/v1/reports.json"</span> --request POST
--data-binary <span class="s1">'{"event_id":10}'</span>
--header <span class="s2">"access_token: 7827nd88ju98dj29084d28j9048"</span>
</code></pre>
<blockquote>
<p>Ответ</p>
</blockquote>

<p>При успешной обработке заброса возвращается HTTP статус 201. В случае, если
переданный event_id принадлежит другому нейрометристу, будет возвращен HTTP
статус 404.</p>

<p>При успешной обработке, возвращается объект report, id которого будет нужен для
записи результатов измерений.</p>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"child_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
  </span><span class="s2">"verbatolog_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">11</span><span class="p">,</span><span class="w">
  </span><span class="s2">"location_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
  </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-05-01T12:00:00.000+04:00"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-05-01T12:00:00.000+04:00"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h3 id='http-request-6'>HTTP Request</h3>
<p><code>POST http://verbatoria.ru/api/v1/reports.json</code></p>
<h1 id='-12'>Добавление результатов измерения в открытую сессию нейрометрии</h1>
<aside>
Данный метод требует валидной сессии. Необходимо передать  *access_token* в
заголовке HTTP запроса.
</aside>

<blockquote>
<p>Пример кода</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl <span class="s2">"http://verbatoria.ru/api/v1/reports/5/measurement.json"</span> --request POST
--data-binary <span class="s1">'{"measurement":{"action_id":0,"attention":-1,"bci_id":null,"block":null,
"created_at":null,"delta":16777095,"device_id":null,"event_id":null,"high_alpha":16777154,
"high_beta":16777158,"logoped_mode_id":null,"low_alpha":4395,"low_beta":16777200,
"low_gamma":16777158,"mediation":0,"mid_gamma":6694,"mistake":null,"report_id":0,
"reserve_blank1":null,"reserve_blank2":null,"theta":16777140,"updated_at":null,"word":null}}'</span>
--header <span class="s2">"access_token: 7827nd88ju98dj29084d28j9048"</span>
</code></pre>
<blockquote>
<p>Ответ</p>
</blockquote>

<p>При успешной обработке заброса возвращается HTTP статус 201. В случае, если
переданный event_id принадлежит другому нейрометристу, будет возвращен HTTP
статус 404.</p>
<h3 id='http-request-7'>HTTP Request</h3>
<p><code>POST http://verbatoria.ru/api/v1/reports/:report_id:/measurement.json</code></p>
<h1 id='-13'>Закрытие сессии нейрометрии</h1>
<p>После добавления всех результатов измерения, сессия нейрометрии должна быть
закрыто.
<em>Важно</em> - закрыть можно сессию только в том случае, если добавлены не пустые
данные о ребенке (имя и дата рождения)</p>

<blockquote>
<p>Пример кода</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl <span class="s2">"http://verbatoria.ru/api/v1/reports/5/finalize.json"</span> --request POST
--header <span class="s2">"access_token: 7827nd88ju98dj29084d28j9048"</span>
</code></pre>
<blockquote>
<p>Ответ</p>
</blockquote>

<p>При успешной обработке заброса возвращается HTTP статус 201. В случае, если
данные по ребенку не были заполнены, вернется статус 400.</p>
<h1 id='-14'>Работа с клиентами</h1><h2 id='-15'>Добавление</h2>
<aside>
Данный метод требует валидной сессии. Необходимо передать  *access_token* в
заголовке HTTP запроса.
</aside>

<blockquote>
<p>Пример кода</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl <span class="s2">"http://verbatoria.ru/api/v1/clients.json"</span> --request POST
--data-binary <span class="s1">'{"name":"Ivan","email":"email@example.com","phone":"+79031112233"}'</span>
--header <span class="s2">"access_token: 7827nd88ju98dj29084d28j9048"</span>
</code></pre>
<blockquote>
<p>Ответ</p>
</blockquote>

<p>При успешной обработке заброса возвращается HTTP статус 201. В случае, если
не удалось добавить клиента HTTP статус 400</p>
<h3 id='http-request-8'>HTTP Request</h3>
<p><code>POST http://verbatoria.ru/api/v1/clients.json</code></p>
<h3 id='-16'>Параметры</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>true</td>
<td>Имя клиента</td>
</tr>
<tr>
<td>email</td>
<td>true</td>
<td>Email клиента</td>
</tr>
<tr>
<td>phone</td>
<td>false</td>
<td>Телефон клиента</td>
</tr>
</tbody></table>
<h2 id='-17'>Изменение</h2>
<aside>
Данный метод требует валидной сессии. Необходимо передать  *access_token* в
заголовке HTTP запроса.
</aside>

<blockquote>
<p>Пример кода</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl <span class="s2">"http://verbatoria.ru/api/v1/clients/10.json"</span> --request PUT
--data-binary <span class="s1">'{"client": {"name":"Ivan","email":"email@example.com","phone":"+79031112233"}}'</span>
--header <span class="s2">"access_token: 7827nd88ju98dj29084d28j9048"</span>
</code></pre>
<blockquote>
<p>Ответ</p>
</blockquote>

<p>При успешной обработке заброса возвращается HTTP статус 200. В случае, если
не удалось изменить клиента HTTP статус 400</p>
<h3 id='http-request-9'>HTTP Request</h3>
<p><code>PUT http://verbatoria.ru/api/v1/clients/:client_id:.json</code></p>
<h3 id='-18'>Параметры</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>true</td>
<td>Имя клиента</td>
</tr>
<tr>
<td>email</td>
<td>true</td>
<td>Email клиента</td>
</tr>
<tr>
<td>phone</td>
<td>false</td>
<td>Телефон клиента</td>
</tr>
</tbody></table>
<h2 id='-19'>Просмотр</h2>
<aside>
Данный метод требует валидной сессии. Необходимо передать  *access_token* в
заголовке HTTP запроса.
</aside>

<blockquote>
<p>Пример кода</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl <span class="s2">"http://verbatoria.ru/api/v1/clients/10.json"</span>
--header <span class="s2">"access_token: 7827nd88ju98dj29084d28j9048"</span>
</code></pre><h1 id='-20'>Работа с данными о детях</h1><h2 id='-21'>Добавление</h2>
<aside>
Данный метод требует валидной сессии. Необходимо передать  *access_token* в
заголовке HTTP запроса.
</aside>

<blockquote>
<p>Пример кода</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl <span class="s2">"http://verbatoria.ru/api/v1/clients/10/children.json"</span> --request POST
--data-binary <span class="s1">'{"child":{"name":"Ivan","birth_day":"2010-01-01"}}'</span>
--header <span class="s2">"access_token: 7827nd88ju98dj29084d28j9048"</span>
</code></pre>
<blockquote>
<p>Ответ</p>
</blockquote>

<p>При успешной обработке заброса возвращается HTTP статус 201. В случае, если
не удалось добавить данные HTTP статус 400</p>
<h3 id='http-request-10'>HTTP Request</h3>
<p><code>POST http://verbatoria.ru/api/v1/clients/:client_id:/children.json</code></p>
<h3 id='-22'>Параметры</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>true</td>
<td>Имя ребенка</td>
</tr>
<tr>
<td>birth_day</td>
<td>true</td>
<td>Дата рождения ребенка</td>
</tr>
</tbody></table>
<h2 id='-23'>Изменение</h2>
<aside>
Данный метод требует валидной сессии. Необходимо передать  *access_token* в
заголовке HTTP запроса.
</aside>

<blockquote>
<p>Пример кода</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl <span class="s2">"http://verbatoria.ru/api/v1/clients/10/children/50.json"</span> --request PUT
--data-binary <span class="s1">'{"child":{"name":"Ivan","birth_day":"2010-01-01"}}'</span>
--header <span class="s2">"access_token: 7827nd88ju98dj29084d28j9048"</span>
</code></pre>
<blockquote>
<p>Ответ</p>
</blockquote>

<p>При успешной обработке заброса возвращается HTTP статус 200. В случае, если
не удалось изменить данные HTTP статус 400</p>
<h3 id='http-request-11'>HTTP Request</h3>
<p><code>PUT http://verbatoria.ru/api/v1/clients/:client_id:/:child_id:.json</code></p>
<h3 id='-24'>Параметры</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>true</td>
<td>Имя ребенка</td>
</tr>
<tr>
<td>birth_day</td>
<td>true</td>
<td>Дата рождения ребенка</td>
</tr>
</tbody></table>
<h2 id='-25'>Просмотр</h2>
<aside>
Данный метод требует валидной сессии. Необходимо передать  *access_token* в
заголовке HTTP запроса.
</aside>

<blockquote>
<p>Пример кода</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl <span class="s2">"http://verbatoria.ru/api/v1/clients/10/children/50.json"</span>
--header <span class="s2">"access_token: 7827nd88ju98dj29084d28j9048"</span>
</code></pre><h1 id='errors'>Errors</h1>
<p>В Verbatoria API приняты следующие коды HTTP ошибок</p>

<table><thead>
<tr>
<th>Error Code</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>Bad Request -- Не корректные параметры запроса</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden -- Ресурс не доступен для текущего пользователя</td>
</tr>
<tr>
<td>404</td>
<td>Not Found -- Ресурс не найден</td>
</tr>
<tr>
<td>500</td>
<td>Internal Server Error -- Что-то сломалось...</td>
</tr>
</tbody></table>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="shell">shell</a>
          </div>
      </div>
    </div>
  </body>
</html>
